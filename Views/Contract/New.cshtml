@model Trading_company.ViewModels.ContractViewModel
@{
    ViewData["Title"] = "Новый контракт";
    int contrID = Convert.ToInt32(ViewData["Contract_contrID"]);
}

<div class="d-flex justify-content-center">
    <div class="col-4">
        <form asp-controller="Contract" asp-action="New">
            <div class="row m-1 bg-secondary bg-opacity-25">
                <h1 class="d-flex justify-content-center">@ViewData["Title"]</h1>
            </div>


            @*Контрагент*@
             <div class="row m-1 bg-secondary bg-opacity-25">
                <b class="bg-secondary bg-opacity-50">Контрагент</b>
                <div>
                     <select class="m-1" asp-for="CurrentContract.contr_id">
                        <option disabled selected>Выберите из доступных</option>
                        @foreach (var lead in Model.FreeContragents) 
                        {
                            if (lead.contr_id == contrID)
                            {
                                <option selected value="@lead.contr_id">@lead.name#@lead.contr_id</option>
                            }
                            else
                            {
                                <option value="@lead.contr_id">@lead.name#@lead.contr_id</option>
                            }
                        }
                    </select>
                </div>
            </div>


            @*Дата окончания контракта*@
            <div class="row m-1 bg-secondary bg-opacity-25">
                <b class="bg-secondary bg-opacity-50">Дата окончания*</b>
                <div>
                    <input class="m-1" type="date" asp-for="CurrentContract.dayto" value=@ViewData["Contract_Date"] />
                </div>
            </div>
            

            <div class="row m-1 bg-secondary bg-opacity-25">
                <input type="submit" value="Подтвердить" />
            </div>
            <h4 class="row m-1 text-light bg-dark">@ViewData["Error"]</h4>
        </form>
    </div>
</div>